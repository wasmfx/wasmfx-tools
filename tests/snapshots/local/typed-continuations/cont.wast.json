{
  "source_filename": "tests/local/typed-continuations/cont.wast",
  "commands": [
    {
      "type": "module",
      "line": 3,
      "filename": "cont.0.wasm"
    },
    {
      "type": "assert_suspension",
      "line": 121,
      "action": {
        "type": "invoke",
        "field": "unhandled-1",
        "args": []
      },
      "text": "unhandled"
    },
    {
      "type": "assert_suspension",
      "line": 122,
      "action": {
        "type": "invoke",
        "field": "unhandled-2",
        "args": []
      },
      "text": "unhandled"
    },
    {
      "type": "assert_suspension",
      "line": 123,
      "action": {
        "type": "invoke",
        "field": "unhandled-3",
        "args": []
      },
      "text": "unhandled"
    },
    {
      "type": "assert_return",
      "line": 124,
      "action": {
        "type": "invoke",
        "field": "handled",
        "args": []
      },
      "expected": []
    },
    {
      "type": "assert_exception",
      "line": 126,
      "action": {
        "type": "invoke",
        "field": "uncaught-1",
        "args": []
      }
    },
    {
      "type": "assert_exception",
      "line": 127,
      "action": {
        "type": "invoke",
        "field": "uncaught-2",
        "args": []
      }
    },
    {
      "type": "assert_trap",
      "line": 129,
      "action": {
        "type": "invoke",
        "field": "barrier",
        "args": []
      },
      "text": "barrier"
    },
    {
      "type": "assert_trap",
      "line": 131,
      "action": {
        "type": "invoke",
        "field": "non-linear-1",
        "args": []
      },
      "text": "continuation already consumed"
    },
    {
      "type": "assert_trap",
      "line": 132,
      "action": {
        "type": "invoke",
        "field": "non-linear-2",
        "args": []
      },
      "text": "continuation already consumed"
    },
    {
      "type": "assert_trap",
      "line": 133,
      "action": {
        "type": "invoke",
        "field": "non-linear-3",
        "args": []
      },
      "text": "continuation already consumed"
    },
    {
      "type": "assert_trap",
      "line": 134,
      "action": {
        "type": "invoke",
        "field": "non-linear-4",
        "args": []
      },
      "text": "continuation already consumed"
    },
    {
      "type": "assert_invalid",
      "line": 137,
      "filename": "cont.1.wasm",
      "text": "non-continuation type 0",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 145,
      "filename": "cont.2.wasm",
      "text": "non-continuation type 0",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 154,
      "filename": "cont.3.wasm",
      "text": "non-continuation type 0",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 164,
      "filename": "cont.4.wasm",
      "text": "non-continuation type 0",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 173,
      "filename": "cont.5.wasm",
      "text": "non-continuation type 0",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 182,
      "filename": "cont.6.wasm",
      "text": "non-continuation type 0",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 195,
      "filename": "cont.7.wasm",
      "text": "non-continuation type 0",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 209,
      "filename": "cont.8.wasm",
      "text": "non-function type 0",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 214,
      "filename": "cont.9.wasm",
      "text": "non-function type 0",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 222,
      "filename": "cont.10.wasm"
    },
    {
      "type": "module",
      "line": 233,
      "name": "state",
      "filename": "cont.11.wasm"
    },
    {
      "type": "assert_return",
      "line": 281,
      "action": {
        "type": "invoke",
        "field": "run",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "19"
        }
      ]
    },
    {
      "type": "module",
      "line": 286,
      "name": "generator",
      "filename": "cont.12.wasm"
    },
    {
      "type": "register",
      "line": 331,
      "as": "generator"
    },
    {
      "type": "assert_return",
      "line": 333,
      "action": {
        "type": "invoke",
        "field": "sum",
        "args": [
          {
            "type": "i64",
            "value": "0"
          },
          {
            "type": "i64",
            "value": "0"
          }
        ]
      },
      "expected": [
        {
          "type": "i64",
          "value": "0"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 334,
      "action": {
        "type": "invoke",
        "field": "sum",
        "args": [
          {
            "type": "i64",
            "value": "2"
          },
          {
            "type": "i64",
            "value": "2"
          }
        ]
      },
      "expected": [
        {
          "type": "i64",
          "value": "2"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 335,
      "action": {
        "type": "invoke",
        "field": "sum",
        "args": [
          {
            "type": "i64",
            "value": "0"
          },
          {
            "type": "i64",
            "value": "3"
          }
        ]
      },
      "expected": [
        {
          "type": "i64",
          "value": "6"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 336,
      "action": {
        "type": "invoke",
        "field": "sum",
        "args": [
          {
            "type": "i64",
            "value": "1"
          },
          {
            "type": "i64",
            "value": "10"
          }
        ]
      },
      "expected": [
        {
          "type": "i64",
          "value": "55"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 337,
      "action": {
        "type": "invoke",
        "field": "sum",
        "args": [
          {
            "type": "i64",
            "value": "100"
          },
          {
            "type": "i64",
            "value": "2000"
          }
        ]
      },
      "expected": [
        {
          "type": "i64",
          "value": "1996050"
        }
      ]
    },
    {
      "type": "module",
      "line": 342,
      "name": "scheduler",
      "filename": "cont.13.wasm"
    },
    {
      "type": "register",
      "line": 424,
      "as": "scheduler"
    },
    {
      "type": "module",
      "line": 426,
      "filename": "cont.14.wasm"
    },
    {
      "type": "assert_return",
      "line": 506,
      "action": {
        "type": "invoke",
        "field": "run",
        "args": [
          {
            "type": "i32",
            "value": "0"
          },
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "expected": []
    },
    {
      "type": "assert_return",
      "line": 507,
      "action": {
        "type": "invoke",
        "field": "run",
        "args": [
          {
            "type": "i32",
            "value": "0"
          },
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": []
    },
    {
      "type": "assert_return",
      "line": 508,
      "action": {
        "type": "invoke",
        "field": "run",
        "args": [
          {
            "type": "i32",
            "value": "1"
          },
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "expected": []
    },
    {
      "type": "assert_return",
      "line": 509,
      "action": {
        "type": "invoke",
        "field": "run",
        "args": [
          {
            "type": "i32",
            "value": "1"
          },
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": []
    },
    {
      "type": "assert_return",
      "line": 510,
      "action": {
        "type": "invoke",
        "field": "run",
        "args": [
          {
            "type": "i32",
            "value": "3"
          },
          {
            "type": "i32",
            "value": "4"
          }
        ]
      },
      "expected": []
    },
    {
      "type": "module",
      "line": 515,
      "name": "concurrent-generator",
      "filename": "cont.15.wasm"
    },
    {
      "type": "assert_return",
      "line": 567,
      "action": {
        "type": "invoke",
        "field": "sum",
        "args": [
          {
            "type": "i64",
            "value": "10"
          },
          {
            "type": "i64",
            "value": "20"
          }
        ]
      },
      "expected": [
        {
          "type": "i64",
          "value": "165"
        }
      ]
    },
    {
      "type": "module",
      "line": 572,
      "filename": "cont.16.wasm"
    },
    {
      "type": "assert_return",
      "line": 598,
      "action": {
        "type": "invoke",
        "field": "run",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "1"
        },
        {
          "type": "i32",
          "value": "2"
        },
        {
          "type": "i32",
          "value": "3"
        },
        {
          "type": "i32",
          "value": "4"
        },
        {
          "type": "i32",
          "value": "5"
        },
        {
          "type": "i32",
          "value": "6"
        }
      ]
    },
    {
      "type": "module",
      "line": 604,
      "filename": "cont.17.wasm"
    },
    {
      "type": "assert_return",
      "line": 637,
      "action": {
        "type": "invoke",
        "field": "run",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "0"
        },
        {
          "type": "i32",
          "value": "1"
        },
        {
          "type": "i32",
          "value": "2"
        },
        {
          "type": "i32",
          "value": "3"
        },
        {
          "type": "i32",
          "value": "4"
        },
        {
          "type": "i32",
          "value": "5"
        },
        {
          "type": "i32",
          "value": "6"
        }
      ]
    },
    {
      "type": "module",
      "line": 643,
      "filename": "cont.18.wasm"
    },
    {
      "type": "module",
      "line": 659,
      "filename": "cont.19.wasm"
    },
    {
      "type": "assert_return",
      "line": 672,
      "action": {
        "type": "invoke",
        "field": "set-global",
        "args": []
      },
      "expected": []
    }
  ]
}